"use strict";define(["jquery","core/chartjs","local_edwiserreports/defaultconfig","./common"],function(t,a,o,i){return{init:function(c){var e,d=o.getPanel("#todaysactivityblock"),y=o.getPanel("#todaysactivityblock","body"),s=d+" #flatpickrCalender";function l(s){i.loader.show("#todaysactivityblock");var l=t(d).data("sesskey");t.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_todaysactivity_data_ajax",sesskey:l,data:JSON.stringify({date:s})}}).done(function(i){var c;t.each(i.data,function(a,o){t(y+" #todays-"+a).find(".data").html(o)}),c=i.data.visitshour,o.todaysActivityBlock.graph.data=c,c={labels:o.todaysActivityBlock.graph.labels,datasets:[{label:o.todaysActivityBlock.graph.labelName,data:o.todaysActivityBlock.graph.data,backgroundColor:o.todaysActivityBlock.graph.backgroundColor}]},e&&e.destroy(),e=new a(o.todaysActivityBlock.ctx,{type:o.todaysActivityBlock.graph.type,options:o.todaysActivityBlock.graph.options,data:c})}).fail(function(t){console.log(t)}).always(function(){c("todaysActivity"),i.loader.hide("#todaysactivityblock")})}t(document).ready(function(){o.todaysActivityBlock=o.getTodaysActivityBlock(),o.todaysActivityBlock?(l(),t(s).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){l(a)}})):c("todaysActivity")})}}});
//# sourceMappingURL=block_todaysactivity.min.js.map
