define(["jquery"],function(t){return{Init:function(){t(document).ready(function(){t("#department").change(function(){let i="";i="view.php?dep_id="+t(this).val(),window.location=i}),t("#department_piechart").change(function(){dep_id=t(this).val(),t.ajax({url:"ajax.php",type:"post",data:{action:"getTrainingTypes",id:dep_id},success:function(i){if(i){trainingData=JSON.parse(i);let n="";t.each(trainingData,function(t,i){n+='<option value="'+i.id+'">'+i.name+"</option>"}),t("#trainingType").html(n)}}})}),t("#filterButton").click(function(){let i=t("#trainingType").val();url="view2.php?training_id="+i,window.location=url}),t("#id_ceo_iltbar_submit,#id_ceo_iltbar_cancel").unbind().click(function(){var i=t(this).closest("form").attr("action"),n=t(this).closest("form").attr("id"),e=i+"#id_ceo_iltbar_form";t(this).closest("form").attr("action",e).submit(),console.log(n+e)}),window.onbeforeunload=(()=>{}),t("#id_department").change(function(){this.form.submit()}),t("#id_ceo_iltpie_submit,#id_ceo_iltpie_cancel").unbind().click(function(){var i=t(this).closest("form").attr("action"),n=t(this).closest("form").attr("id"),e=i+"#id_ceo_iltpie_form";t(this).closest("form").attr("action",e).submit(),console.log(n+e)}),t("#id_department_piechart").change(function(i){console.log("getsubject called"),dep_id=t("#id_department_piechart").val(),t.ajax({url:"../blocks/ceo_iltbar/ajax.php",type:"post",data:{action:"getTrainingTypes",id:dep_id},success:function(i){if(i){trainingData=JSON.parse(i);let n='<option selected value="">All</option>';t.each(trainingData,function(t,i){n+='<option value="'+i.id+'">'+i.name+"</option>"}),t("#id_trainingType").html(n)}}})})})}}});